{
  "pdf_requirements": {
    "frontend_requirements": {
      "user_interface": [
        "Virtual office/marketplace listing page",
        "Company and shop creation interface",
        "User registration and authentication system",
        "Payment gateway integration",
        "Admin approval workflow interface",
        "Status management system (8 different states)",
        "Preview and edit functionality",
        "Share functionality for virtual offices",
        "Publication management interface"
      ],
      "user_experience": [
        "Multi-step registration process",
        "Real-time status updates",
        "Admin notification system",
        "Payment confirmation workflow",
        "Mobile-responsive design",
        "Persian/Farsi language support"
      ]
    },
    "backend_requirements": {
      "authentication": [
        "User registration system",
        "PIN-based authentication",
        "Role-based access control (User, Admin)",
        "Session management",
        "JWT token authentication"
      ],
      "business_logic": [
        "Virtual office creation workflow",
        "Payment processing integration",
        "Admin approval system",
        "Status management (8 states)",
        "Publication control system",
        "Subscription management",
        "Notification system"
      ],
      "api_endpoints": [
        "User registration/authentication APIs",
        "Virtual office CRUD operations",
        "Payment processing APIs",
        "Admin management APIs",
        "Status update APIs",
        "File upload APIs",
        "Notification APIs"
      ]
    },
    "database_requirements": {
      "user_management": [
        "User profiles with complete information",
        "Authentication credentials (PIN, mobile)",
        "Role assignments",
        "Session tracking"
      ],
      "business_entities": [
        "Virtual office/marketplace records",
        "Company information storage",
        "Business categories and classifications",
        "Location and contact information",
        "Status tracking with timestamps"
      ],
      "financial": [
        "Payment transaction records",
        "Subscription management",
        "Billing information",
        "Payment gateway integration data"
      ]
    },
    "security_requirements": [
      "Secure payment processing",
      "Data encryption for sensitive information",
      "Input validation and sanitization",
      "SQL injection prevention",
      "XSS protection",
      "CSRF protection",
      "Rate limiting for API calls",
      "Secure file upload handling"
    ],
    "functional_requirements": {
      "virtual_office_states": [
        "1. Unpaid - Under Creation",
        "2. Paid - Under Creation",
        "3. Paid - In Publication Queue",
        "4. Paid - Non-Publication",
        "5. Published",
        "6. Paid - Needs Editing",
        "7. Inactive",
        "8. Payment status tracking"
      ],
      "user_actions": [
        "Create virtual office/marketplace",
        "Edit virtual office information",
        "Preview virtual office",
        "Share virtual office link",
        "Request publication/unpublication",
        "Make subscription payments",
        "Activate/deactivate virtual office"
      ],
      "admin_actions": [
        "Approve/reject virtual office publications",
        "Manage user permissions",
        "Monitor payment transactions",
        "Handle support requests",
        "System configuration management"
      ]
    },
    "technical_requirements": [
      "Django REST Framework implementation",
      "PostgreSQL/MySQL database support",
      "Redis caching for performance",
      "Celery for background tasks",
      "SMS integration for PIN authentication",
      "Payment gateway integration (Iranian gateways)",
      "File storage system (local/cloud)",
      "API documentation (Swagger/OpenAPI)",
      "Logging and monitoring system",
      "Backup and recovery system"
    ]
  },
  "compliance_analysis": {
    "implemented_features": [
      "✅ User registration and PIN authentication",
      "✅ JWT token-based authentication",
      "✅ Role-based access control (Owner, User, Marketer)",
      "✅ Virtual office (Market) CRUD operations",
      "✅ Payment system integration",
      "✅ Admin management system",
      "✅ Status management for markets",
      "✅ File upload and media handling",
      "✅ API documentation and testing",
      "✅ Database models for all entities"
    ],
    "missing_features": [
      "❌ Specific 8-state workflow for virtual offices",
      "❌ Persian/Farsi language localization",
      "❌ Admin approval workflow for publications",
      "❌ Subscription payment management",
      "❌ Share functionality for virtual offices",
      "❌ Publication queue management",
      "❌ SMS notification system",
      "❌ Frontend user interface"
    ],
    "partially_implemented": [
      "⚠️ Payment system (needs subscription model)",
      "⚠️ Status management (needs 8-state workflow)",
      "⚠️ Admin system (needs approval workflow)",
      "⚠️ Notification system (basic structure exists)"
    ]
  },
  "analysis_date": "2025-01-27",
  "project_status": "Mostly Compliant - Minor Enhancements Needed"
}